{% extends 'admin_templates/base.html' %}

{% block title %} Update Product {% endblock %}

{% block page_title %} Update Product To Main {% endblock %}

{% block content %}

<section class="content-header">
    <div class="container-fluid">
      <div class="row mb-2">
        <div class="col-sm-12">
          <h1>Update This Product</h1>
        </div>
      </div>
    </div><!-- /.container-fluid -->
</section>

<!-- Main content -->
<section class="content">
  <div class="container-fluid">
      <div class="row">
          <!-- left column -->
          <div class="col-md-12">
              <!-- general form elements -->
              <div class="card card-primary">
                  <div class="card-header">
                      <h3 class="card-title">Product Form</h3>
                  </div>
                  <!-- /.card-header -->

                  <!-- form start -->
                  <form role="form" action="{% url 'update_product_save' %}" method="post" enctype="multipart/form-data"> {% csrf_token %}
                      <div class="card-body">
                        <div class="form-group">
                            <label for="name">Name</label>
                            <input type="text" class="form-control" id="name" placeholder="Name" name="name" value={{product.name}}>
                            <input type="hidden" name="product_id" value={{product.id}}>
                        </div>

                        <div class="form-group">
                            <label for="description">Description</label>
                            <input type="text" class="form-control" id="description" placeholder="description" name="description"  value={{product.description}} >
                        </div>

                        <div class="form-group">
                            <label for="Price">Price</label>
                            <input type="text" class="form-control" id="Price" placeholder="Price" name="price" value={{product.price}}>
                        </div>

                        <div class="form-group">
                            <label for="category">Category Tag</label>
                            <select class="form-control" name = "category" id = "category" value={{product.category}}>
                                <option {% if product.category == 'Fixed' %} selected {% endif %}> Fixed </option>
                                <option {% if product.category == 'Negotiable' %} selected {% endif %}> Negotiable </option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="img">Display Picture</label>
                            <input type="file" class="form-control" id="img" name="img">
                        </div>

                      </div>
                      <!-- /.card-body -->
                      <div class="card-footer">
                          <div class="row">
                              <div class="col-12">
                                  <button type="submit" class="btn btn-primary btn-block">Update Product</button>
                              </div>
                              {% if messages %}
                                  <div class="col-12 mt-3">
                                      {% for message in messages %}
                                          {% if message.tags == 'error' %}
                                              <div class="alert alert-danger">
                                                  {{message}}
                                              </div>
                                          {% else %}
                                              <div class="alert alert-success">
                                                  {{message}}
                                              </div>
                                          {% endif %}
                                      {% endfor %}
                                  </div>
                              {% endif %}
                          </div>
                      </div>
                      <!--/. card footer  -->
                  </form>
              </div>
              <!-- /.card -->
          </div>
      </div>
      <!-- row -->
  </div>
   <!-- container-fluid -->
</section>
<!-- section end -->
{% endblock content %}
